<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LÃ½ Thuyáº¿t GML vÃ  Thá»±c HÃ nh - Buá»•i 2</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad: true,
      theme: "dark",
      themeVariables: {
        primaryColor: "#111827",
        primaryBorderColor: "#22d3ee",
        primaryTextColor: "#e5e7eb",
        lineColor: "#22d3ee",
        secondaryColor: "#0b1222",
        tertiaryColor: "#0b1222",
        fontFamily: "system-ui, Segoe UI, Roboto, Helvetica, Arial",
        fontSize: "16px",
        labelBackground: "#1f2937",
        labelTextColor: "#e5e7eb",
        nodeBorder: "#22d3ee",
        clusterBackground: "#0b1222",
        clusterBorder: "#22d3ee"
      }
    });
  </script>
</head>
<body>
  <main class="wrap">
    <nav class="breadcrumb">
      <a href="index.html">ğŸ  Trang chá»§</a> > <span>Buá»•i 2</span>
    </nav>
    <h1>ğŸ“˜ LÃ½ Thuyáº¿t GML vÃ  Thá»±c HÃ nh - Buá»•i 2</h1>

    <section class="card">
      <h2>1) ğŸ” LÃ½ Thuyáº¿t GML â€“ CÃ¡c CÃº PhÃ¡p Quan Trá»ng</h2>
      <h3>1. <code>keyboard_check</code></h3>
      <p>Kiá»ƒm tra phÃ­m Ä‘ang Ä‘Æ°á»£c giá»¯. Tráº£ vá» <code>1</code> (giá»¯) hoáº·c <code>0</code> (khÃ´ng giá»¯).</p>
      <p><strong>VÃ­ dá»¥</strong>: <code>keyboard_check(ord("A"))</code> â†’ kiá»ƒm tra phÃ­m A.</p>
      <p><strong>á»¨ng dá»¥ng</strong>: Äiá»u khiá»ƒn di chuyá»ƒn báº±ng W/A/S/D. ğŸš¶</p>

      <h3>2. <code>global.score</code></h3>
      <p>Biáº¿n toÃ n cá»¥c Ä‘á»ƒ lÆ°u Ä‘iá»ƒm sá»‘. Khá»Ÿi táº¡o: <code>global.score = 0;</code></p>
      <p><strong>á»¨ng dá»¥ng</strong>: Váº½ Ä‘iá»ƒm sá»‘ báº±ng <code>draw_text()</code>. ğŸ“Š</p>

      <h3>3. <code>instance_create_layer</code></h3>
      <p>Táº¡o object má»›i táº¡i vá»‹ trÃ­ x, y trÃªn layer.</p>
      <pre><code>instance_create_layer(x, y, "Instances", o_enemy);</code></pre>
      <p><strong>VÃ­ dá»¥</strong>: <code>instance_create_layer(900, irandom_range(100,500), "Instances", o_enemy);</code></p>

      <h3>4. <code>irandom_range</code></h3>
      <p>Sinh sá»‘ nguyÃªn ngáº«u nhiÃªn trong khoáº£ng [a, b].</p>
      <p><strong>VÃ­ dá»¥</strong>: <code>irandom_range(100, 500)</code> â†’ sá»‘ tá»« 100 Ä‘áº¿n 500.</p>

      <h3>5. <code>alarm</code></h3>
      <p>Bá»™ Ä‘áº¿m giá», cháº¡y Alarm Event khi vá» 0.</p>
      <p><strong>VÃ­ dá»¥</strong>: <code>alarm[0] = room_speed * 2;</code> â†’ Alarm 0 sau 2 giÃ¢y.</p>

      <h3>6. <code>instance_destroy</code></h3>
      <p>XÃ³a object khá»i game. ğŸ—‘ï¸</p>
      <p><strong>á»¨ng dá»¥ng</strong>: XÃ³a enemy khi cháº¡m tÆ°á»ng hoáº·c player háº¿t máº¡ng.</p>

      <h3>7. <code>with (other) { instance_destroy(); }</code></h3>
      <p>TÃ¡c Ä‘á»™ng lÃªn Ä‘á»‘i tÆ°á»£ng va cháº¡m trong Collision Event.</p>
      <pre><code>instance_destroy();
with(other) instance_destroy();</code></pre>
      <p><strong>VÃ­ dá»¥</strong>: XÃ³a cáº£ player vÃ  enemy khi va cháº¡m.</p>
    </section>

    <section class="card">
      <h2>2) ğŸ› ï¸ HÆ°á»›ng Dáº«n Thá»±c HÃ nh</h2>
      <h3>1. Táº¡o cÃ¡c Ä‘á»‘i tÆ°á»£ng</h3>
      <p>TrÆ°á»›c tiÃªn, hÃ£y táº¡o cÃ¡c object cáº§n thiáº¿t cho game:</p>
      <ul class="tips">
        <li><strong>o_player</strong>: NhÃ¢n váº­t chÃ­nh cÃ³ thá»ƒ di chuyá»ƒn</li>
        <li><strong>o_enemy</strong>: Káº» Ä‘á»‹ch di chuyá»ƒn tá»« pháº£i sang trÃ¡i</li>
        <li><strong>o_spawner</strong>: MÃ¡y táº¡o káº» Ä‘á»‹ch Ä‘á»‹nh ká»³</li>
        <li><strong>o_wall</strong>: TÆ°á»ng Ä‘á»ƒ káº» Ä‘á»‹ch biáº¿n máº¥t khi cháº¡m</li>
      </ul>

      <h3>2. Láº­p trÃ¬nh di chuyá»ƒn nhÃ¢n váº­t vÃ  Ä‘iá»ƒm sá»‘</h3>
      <div class="mermaid">
flowchart TD
  A["âš™ï¸ Create Event"] --> B["Äáº·t hspeed=0, vspeed=0, spd=10"]
  B --> C["Khá»Ÿi táº¡o global.score=0"]
  A --> D["ğŸ”„ Step Event"]
  D --> E["Äá»c phÃ­m: W/A/S/D"]
  E --> F{"â“ Nháº¥n phÃ­m?"}
  F -->|A| G["â¬… hspeed = -spd"]
  F -->|D| H["â¡ hspeed = spd"]
  F -->|W| I["â¬† vspeed = -spd"]
  F -->|S| J["â¬‡ vspeed = spd"]
  F -->|KhÃ´ng| K["ğŸ›‘ hspeed=0, vspeed=0"]
  D --> L["âœï¸ Draw Event: Váº½ global.score"]
      </div>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>

      <h3>3. Táº¡o cÃ¡c enemy</h3>
      <div class="mermaid">
flowchart TD
  A["âš™ï¸ Create Event: o_spawner"] --> B["â° alarm[0] = 120"]
  B --> C["â° Alarm 0 Event"]
  C --> D["ğŸ‘¾ Táº¡o o_enemy táº¡i x=900, y=irandom_range(100,500)"]
  D --> B
      </div>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>

      <h3>4. Táº¡o tÆ°á»ng Ä‘á»ƒ enemy biáº¿n máº¥t khi cháº¡m</h3>
      <p>Táº¡o object <code>o_wall</code> vÃ  Ä‘áº·t á»Ÿ bÃªn trÃ¡i mÃ n hÃ¬nh. Khi enemy cháº¡m tÆ°á»ng sáº½ biáº¿n máº¥t vÃ  tÄƒng Ä‘iá»ƒm.</p>

      <h3>5. Táº¡o di chuyá»ƒn cho enemy</h3>
      <p>Trong Step Event cá»§a <code>o_enemy</code>, thÃªm lá»‡nh:</p>
      <pre><code>hspeed = -3;  // Di chuyá»ƒn sang trÃ¡i vá»›i tá»‘c Ä‘á»™ 3</code></pre>

      <h3>6. Khi enemy va cháº¡m vá»›i tÆ°á»ng</h3>
      <div class="mermaid">
flowchart TD
  A["ğŸ’¥ Collision Event: o_enemy vs o_wall"] --> B["â• TÄƒng global.score"]
  B --> C["ğŸ—‘ï¸ XÃ³a o_enemy"]
      </div>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>

      <h3>7. Khi player va cháº¡m vá»›i enemy</h3>
      <div class="mermaid">
flowchart TD
  A["ğŸ’¥ Collision Event: o_player vs o_enemy"] --> B["ğŸ—‘ï¸ XÃ³a o_player"]
  B --> C["ğŸ—‘ï¸ XÃ³a o_enemy"]
      </div>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>3) ğŸ¯ TÃ³m táº¯t buá»•i há»c</h2>
      <p>Trong buá»•i há»c nÃ y, chÃºng ta Ä‘Ã£ há»c Ä‘Æ°á»£c:</p>
      <ul class="tips">
        <li>âœ… CÃ¡c cÃº phÃ¡p GML cÆ¡ báº£n: keyboard_check, global.score, instance_create_layer</li>
        <li>âœ… Sá»­ dá»¥ng irandom_range Ä‘á»ƒ táº¡o vá»‹ trÃ­ ngáº«u nhiÃªn</li>
        <li>âœ… Láº­p trÃ¬nh alarm Ä‘á»ƒ táº¡o spawner</li>
        <li>âœ… Xá»­ lÃ½ va cháº¡m vÃ  tÄƒng Ä‘iá»ƒm sá»‘</li>
        <li>âœ… Sá»­ dá»¥ng with() Ä‘á»ƒ tÃ¡c Ä‘á»™ng lÃªn Ä‘á»‘i tÆ°á»£ng khÃ¡c</li>
      </ul>
      <p><strong>BÃ i táº­p vá» nhÃ :</strong> Táº¡o game vá»›i há»‡ thá»‘ng Ä‘iá»ƒm sá»‘ vÃ  spawner táº¡o káº» Ä‘á»‹ch á»Ÿ vá»‹ trÃ­ ngáº«u nhiÃªn!</p>
    </section>

    <nav class="lesson-nav">
      <a href="lesson1.html" class="nav-link">â† Buá»•i 1: GameMaker Basic</a>
      <a href="lesson3.html" class="nav-link">Buá»•i 3: Game Báº¯n SÃºng â†’</a>
    </nav>
  </main>
</body>
</html>