<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ“š TÃ i Liá»‡u Tham Kháº£o GMS2 - Buá»•i 5</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad: true,
      theme: "dark",
      themeVariables: {
        primaryColor: "#111827",
        primaryBorderColor: "#22d3ee",
        primaryTextColor: "#e5e7eb",
        lineColor: "#22d3ee",
        secondaryColor: "#0b1222",
        tertiaryColor: "#0b1222",
        fontFamily: "system-ui, Segoe UI, Roboto, Helvetica, Arial",
        fontSize: "16px",
        labelBackground: "#1f2937",
        labelTextColor: "#e5e7eb",
        nodeBorder: "#22d3ee",
        clusterBackground: "#0b1222",
        clusterBorder: "#22d3ee"
      }
    });
  </script>
</head>
<body>
  <main class="wrap">
    <nav class="breadcrumb">
      <a href="index.html">ğŸ  Trang chá»§</a> > <span>Buá»•i 5</span>
    </nav>
    <h1>ğŸ“š TÃ i Liá»‡u Tham Kháº£o GMS2 - Buá»•i 5</h1>

    <section class="card">
      <h2>1) ğŸ“Š Táº¥t Cáº£ Thuá»™c TÃ­nh CÆ¡ Báº£n</h2>
      <p>Danh sÃ¡ch Ä‘áº§y Ä‘á»§ cÃ¡c thuá»™c tÃ­nh mÃ  má»i instance trong GameMaker Ä‘á»u cÃ³:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ¯ Instance Properties"] --> B["ğŸ“ Position & Movement"]
  A --> C["ğŸ¨ Visual"]
  A --> D["âš™ï¸ System"]
  A --> E["ğŸµ Audio"]
  A --> F["ğŸ® Input"]
  A --> G["ğŸ“Š Data"]
  
  B --> B1["x, y<br/>Vá»‹ trÃ­ hiá»‡n táº¡i"]
  B --> B2["hspeed, vspeed<br/>Tá»‘c Ä‘á»™ ngang/dá»c"]
  B --> B3["speed, direction<br/>Tá»‘c Ä‘á»™ & hÆ°á»›ng"]
  B --> B4["friction<br/>Ma sÃ¡t"]
  B --> B5["gravity, gravity_direction<br/>Trá»ng lá»±c"]
  
  C --> C1["sprite_index<br/>Sprite hiá»‡n táº¡i"]
  C --> C2["image_index<br/>Frame hiá»‡n táº¡i"]
  C --> C3["image_speed<br/>Tá»‘c Ä‘á»™ animation"]
  C --> C4["visible<br/>CÃ³ hiá»ƒn thá»‹ khÃ´ng"]
  C --> C5["alpha<br/>Äá»™ trong suá»‘t"]
  C --> C6["image_angle<br/>GÃ³c xoay"]
  C --> C7["image_xscale, image_yscale<br/>Tá»· lá»‡ phÃ³ng to"]
  
  D --> D1["alarm[0-11]<br/>12 Ä‘á»“ng há»“"]
  D --> D2["depth<br/>Lá»›p hiá»ƒn thá»‹"]
  D --> D3["persistent<br/>Tá»“n táº¡i qua room"]
  D --> D4["solid<br/>CÃ³ va cháº¡m khÃ´ng"]
  D --> D5["mask_index<br/>HÃ¬nh dáº¡ng va cháº¡m"]
  
  E --> E1["audio_play_sound<br/>PhÃ¡t Ã¢m thanh"]
  E --> E2["audio_stop_sound<br/>Dá»«ng Ã¢m thanh"]
  E --> E3["audio_sound_gain<br/>Ã‚m lÆ°á»£ng"]
  
  F --> F1["mouse_x, mouse_y<br/>Vá»‹ trÃ­ chuá»™t"]
  F --> F2["keyboard_lastkey<br/>PhÃ­m cuá»‘i nháº¥n"]
  
  G --> G1["id<br/>ID duy nháº¥t"]
  G --> G2["object_index<br/>Loáº¡i object"]
  G --> G3["room<br/>Room hiá»‡n táº¡i"]
      </div>
      
      <h3>ğŸ” MÃ´ táº£ chi tiáº¿t:</h3>
      <table class="list">
        <thead>
          <tr><th>Thuá»™c tÃ­nh</th><th>Kiá»ƒu dá»¯ liá»‡u</th><th>MÃ´ táº£</th><th>VÃ­ dá»¥</th></tr>
        </thead>
        <tbody>
          <tr><td><code>x, y</code></td><td>Real</td><td>Vá»‹ trÃ­ pixel trÃªn mÃ n hÃ¬nh</td><td><code>x = 100; y = 200;</code></td></tr>
          <tr><td><code>hspeed, vspeed</code></td><td>Real</td><td>Tá»‘c Ä‘á»™ di chuyá»ƒn ngang/dá»c</td><td><code>hspeed = 5; vspeed = -3;</code></td></tr>
          <tr><td><code>speed</code></td><td>Real</td><td>Tá»‘c Ä‘á»™ tá»•ng (pixel/frame)</td><td><code>speed = 8;</code></td></tr>
          <tr><td><code>direction</code></td><td>Real</td><td>HÆ°á»›ng di chuyá»ƒn (0-360Â°)</td><td><code>direction = 90;</code></td></tr>
          <tr><td><code>friction</code></td><td>Real</td><td>Ma sÃ¡t (0-1)</td><td><code>friction = 0.1;</code></td></tr>
          <tr><td><code>gravity</code></td><td>Real</td><td>Lá»±c háº¥p dáº«n</td><td><code>gravity = 0.5;</code></td></tr>
          <tr><td><code>sprite_index</code></td><td>Sprite</td><td>Sprite Ä‘ang hiá»ƒn thá»‹</td><td><code>sprite_index = spr_player;</code></td></tr>
          <tr><td><code>image_index</code></td><td>Real</td><td>Frame hiá»‡n táº¡i trong animation</td><td><code>image_index = 0;</code></td></tr>
          <tr><td><code>image_speed</code></td><td>Real</td><td>Tá»‘c Ä‘á»™ animation (frame/frame)</td><td><code>image_speed = 0.5;</code></td></tr>
          <tr><td><code>visible</code></td><td>Boolean</td><td>CÃ³ hiá»ƒn thá»‹ khÃ´ng</td><td><code>visible = false;</code></td></tr>
          <tr><td><code>alpha</code></td><td>Real</td><td>Äá»™ trong suá»‘t (0-1)</td><td><code>alpha = 0.5;</code></td></tr>
          <tr><td><code>image_angle</code></td><td>Real</td><td>GÃ³c xoay sprite (Ä‘á»™)</td><td><code>image_angle = 45;</code></td></tr>
          <tr><td><code>image_xscale, image_yscale</code></td><td>Real</td><td>Tá»· lá»‡ phÃ³ng to X/Y</td><td><code>image_xscale = -1;</code></td></tr>
          <tr><td><code>alarm[0-11]</code></td><td>Real</td><td>12 bá»™ Ä‘áº¿m ngÆ°á»£c</td><td><code>alarm[0] = 60;</code></td></tr>
          <tr><td><code>depth</code></td><td>Real</td><td>Lá»›p hiá»ƒn thá»‹ (sá»‘ nhá» = trÃªn)</td><td><code>depth = -100;</code></td></tr>
          <tr><td><code>persistent</code></td><td>Boolean</td><td>Tá»“n táº¡i qua room</td><td><code>persistent = true;</code></td></tr>
          <tr><td><code>solid</code></td><td>Boolean</td><td>CÃ³ va cháº¡m khÃ´ng</td><td><code>solid = true;</code></td></tr>
          <tr><td><code>mask_index</code></td><td>Sprite</td><td>HÃ¬nh dáº¡ng va cháº¡m</td><td><code>mask_index = spr_collision;</code></td></tr>
        </tbody>
      </table>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>2) ğŸ® HÃ m Äiá»u Khiá»ƒn Input</h2>
      <p>CÃ¡c hÃ m Ä‘á»ƒ Ä‘á»c input tá»« bÃ n phÃ­m, chuá»™t vÃ  gamepad:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ® Input Functions"] --> B["âŒ¨ï¸ Keyboard"]
  A --> C["ğŸ–±ï¸ Mouse"]
  A --> D["ğŸ® Gamepad"]
  A --> E["ğŸ“± Touch"]
  
  B --> B1["keyboard_check(key)<br/>Kiá»ƒm tra phÃ­m Ä‘ang giá»¯"]
  B --> B2["keyboard_check_pressed(key)<br/>PhÃ­m vá»«a nháº¥n"]
  B --> B3["keyboard_check_released(key)<br/>PhÃ­m vá»«a tháº£"]
  B --> B4["keyboard_clear(key)<br/>XÃ³a tráº¡ng thÃ¡i phÃ­m"]
  
  C --> C1["mouse_check_button(button)<br/>Kiá»ƒm tra nÃºt chuá»™t"]
  C --> C2["mouse_x, mouse_y<br/>Vá»‹ trÃ­ chuá»™t"]
  C --> C3["mouse_wheel_up()<br/>Cuá»™n chuá»™t lÃªn"]
  C --> C4["mouse_wheel_down()<br/>Cuá»™n chuá»™t xuá»‘ng"]
  
  D --> D1["gamepad_button_check(button)<br/>Kiá»ƒm tra nÃºt gamepad"]
  D --> D2["gamepad_axis_value(axis)<br/>GiÃ¡ trá»‹ trá»¥c gamepad"]
  
  E --> E1["device_mouse_check_button(button)<br/>Kiá»ƒm tra touch"]
  E --> E2["device_mouse_x_to_gui()<br/>Chuyá»ƒn Ä‘á»•i tá»a Ä‘á»™"]
      </div>
      
      <h3>ğŸ’» VÃ­ dá»¥ sá»­ dá»¥ng Input:</h3>
      <pre><code>// Keyboard - Di chuyá»ƒn nhÃ¢n váº­t
if (keyboard_check(vk_left)) {
    hspeed = -5;
} else if (keyboard_check(vk_right)) {
    hspeed = 5;
} else {
    hspeed = 0;
}

// Keyboard - Nháº£y (chá»‰ khi vá»«a nháº¥n)
if (keyboard_check_pressed(vk_space)) {
    vspeed = -10;
}

// Mouse - Báº¯n sÃºng
if (mouse_check_button(mb_left)) {
    // Táº¡o Ä‘áº¡n hÆ°á»›ng vá» chuá»™t
    var bullet = instance_create_layer(x, y, "Instances", o_bullet);
    bullet.direction = point_direction(x, y, mouse_x, mouse_y);
    bullet.speed = 8;
}

// Mouse - Drag & Drop
if (mouse_check_button_pressed(mb_left)) {
    if (point_in_rectangle(mouse_x, mouse_y, x-16, y-16, x+16, y+16)) {
        dragging = true;
    }
}

// Gamepad - Äiá»u khiá»ƒn
if (gamepad_button_check(0, gp_face1)) {
    // NÃºt A trÃªn gamepad
    vspeed = -10;
}

var left_stick_x = gamepad_axis_value(0, gp_axislh);
if (left_stick_x != 0) {
    hspeed = left_stick_x * 5;
}</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>3) ğŸ¨ HÃ m Váº½ (Drawing Functions)</h2>
      <p>CÃ¡c hÃ m Ä‘á»ƒ váº½ hÃ¬nh áº£nh, text vÃ  hÃ¬nh há»c cÆ¡ báº£n:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ¨ Drawing Functions"] --> B["ğŸ–¼ï¸ Sprites & Images"]
  A --> C["ğŸ“ Text & Fonts"]
  A --> D["ğŸ“ Shapes"]
  A --> E["ğŸ¨ Colors & Effects"]
  
  B --> B1["draw_sprite(spr, subimg, x, y)<br/>Váº½ sprite"]
  B --> B2["draw_sprite_ext(spr, subimg, x, y, xscale, yscale, rot, color, alpha)<br/>Váº½ sprite vá»›i hiá»‡u á»©ng"]
  B --> B3["draw_sprite_stretched(spr, subimg, x, y, w, h)<br/>Váº½ sprite kÃ©o dÃ£n"]
  B --> B4["draw_sprite_tiled(spr, subimg, x, y)<br/>Váº½ sprite láº·p láº¡i"]
  
  C --> C1["draw_text(x, y, string)<br/>Váº½ text"]
  C --> C2["draw_text_ext(x, y, string, sep, w)<br/>Váº½ text vá»›i xuá»‘ng dÃ²ng"]
  C --> C3["draw_set_font(font)<br/>Äáº·t font"]
  C --> C4["draw_set_halign(halign)<br/>CÄƒn chá»‰nh ngang"]
  
  D --> D1["draw_rectangle(x1, y1, x2, y2, outline)<br/>Váº½ hÃ¬nh chá»¯ nháº­t"]
  D --> D2["draw_circle(x, y, radius, outline)<br/>Váº½ hÃ¬nh trÃ²n"]
  D --> D3["draw_line(x1, y1, x2, y2)<br/>Váº½ Ä‘Æ°á»ng tháº³ng"]
  D --> D4["draw_ellipse(x1, y1, x2, y2, outline)<br/>Váº½ hÃ¬nh elip"]
  
  E --> E1["draw_set_color(color)<br/>Äáº·t mÃ u váº½"]
  E --> E2["draw_set_alpha(alpha)<br/>Äáº·t Ä‘á»™ trong suá»‘t"]
  E --> E3["draw_set_blend_mode(mode)<br/>Äáº·t cháº¿ Ä‘á»™ hÃ²a trá»™n"]
  E --> E4["draw_set_halign(halign)<br/>CÄƒn chá»‰nh text"]
      </div>
      
      <h3>ğŸ’» VÃ­ dá»¥ sá»­ dá»¥ng Drawing:</h3>
      <pre><code>// Draw Event - Váº½ UI vÃ  HUD
// Váº½ thanh mÃ¡u
draw_set_color(c_red);
draw_rectangle(10, 10, 10 + (hp/max_hp) * 200, 30, false);

// Váº½ Ä‘iá»ƒm sá»‘
draw_set_color(c_white);
draw_set_font(fnt_score);
draw_set_halign(fa_left);
draw_text(10, 50, "Score: " + string(score));

// Váº½ sprite vá»›i hiá»‡u á»©ng
draw_sprite_ext(spr_player, 0, x, y, 
    image_xscale, image_yscale, image_angle, 
    c_white, alpha);

// Váº½ text vá»›i xuá»‘ng dÃ²ng
draw_text_ext(10, 100, "Welcome to the game!\nPress SPACE to jump", 
    20, 300);

// Váº½ hÃ¬nh trÃ²n cho vÃ¹ng tÃ¡c Ä‘á»™ng
draw_set_color(c_yellow);
draw_set_alpha(0.3);
draw_circle(x, y, 100, false);
draw_set_alpha(1);

// Váº½ Ä‘Æ°á»ng ná»‘i giá»¯a 2 Ä‘iá»ƒm
draw_set_color(c_blue);
draw_line(x, y, target_x, target_y);</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>4) ğŸ¯ HÃ m Instance & Object</h2>
      <p>CÃ¡c hÃ m Ä‘á»ƒ táº¡o, xÃ³a vÃ  quáº£n lÃ½ instances:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ¯ Instance Functions"] --> B["â• Create & Destroy"]
  A --> C["ğŸ” Find & Check"]
  A --> D["ğŸ“Š Count & List"]
  A --> E["ğŸ® Control"]
  
  B --> B1["instance_create_layer(x, y, layer, obj)<br/>Táº¡o instance"]
  B --> B2["instance_create_depth(x, y, depth, obj)<br/>Táº¡o vá»›i depth"]
  B --> B3["instance_destroy()<br/>XÃ³a instance hiá»‡n táº¡i"]
  B --> B4["instance_destroy(id)<br/>XÃ³a instance theo ID"]
  
  C --> C1["instance_exists(obj)<br/>Kiá»ƒm tra tá»“n táº¡i"]
  C --> C2["instance_nearest(x, y, obj)<br/>TÃ¬m gáº§n nháº¥t"]
  C --> C3["instance_furthest(x, y, obj)<br/>TÃ¬m xa nháº¥t"]
  C --> C4["instance_place(x, y, obj)<br/>Kiá»ƒm tra vá»‹ trÃ­"]
  
  D --> D1["instance_number(obj)<br/>Äáº¿m sá»‘ lÆ°á»£ng"]
  D --> D2["instance_find(obj, n)<br/>TÃ¬m instance thá»© n"]
  D --> D3["with(obj) { code }<br/>Thá»±c hiá»‡n vá»›i táº¥t cáº£"]
  
  E --> E1["instance_change(obj, keep)<br/>Thay Ä‘á»•i loáº¡i object"]
  E --> E2["instance_deactivate_region()<br/>Táº¯t vÃ¹ng"]
  E --> E3["instance_activate_region()<br/>Báº­t vÃ¹ng"]
      </div>
      
      <h3>ğŸ’» VÃ­ dá»¥ sá»­ dá»¥ng Instance:</h3>
      <pre><code>// Táº¡o Ä‘áº¡n khi báº¯n
if (mouse_check_button_pressed(mb_left)) {
    var bullet = instance_create_layer(x, y, "Instances", o_bullet);
    bullet.direction = point_direction(x, y, mouse_x, mouse_y);
    bullet.speed = 10;
}

// TÃ¬m enemy gáº§n nháº¥t
var nearest_enemy = instance_nearest(x, y, o_enemy);
if (nearest_enemy != noone) {
    var dist = point_distance(x, y, nearest_enemy.x, nearest_enemy.y);
    if (dist < 100) {
        // Báº¯n vá» phÃ­a enemy
        direction = point_direction(x, y, nearest_enemy.x, nearest_enemy.y);
    }
}

// XÃ³a táº¥t cáº£ enemy khi háº¿t level
with (o_enemy) {
    instance_destroy();
}

// Äáº¿m sá»‘ enemy cÃ²n láº¡i
var enemy_count = instance_number(o_enemy);
if (enemy_count == 0) {
    // Level hoÃ n thÃ nh
    show_message("Level Complete!");
}

// Kiá»ƒm tra va cháº¡m trÆ°á»›c khi di chuyá»ƒn
if (!instance_place(x + hspeed, y, o_wall)) {
    x += hspeed;
} else {
    hspeed = 0; // Dá»«ng láº¡i khi va cháº¡m
}

// Thay Ä‘á»•i sprite khi nháº­n damage
if (hp <= 0) {
    instance_change(o_player_dead, true);
}</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>5) ğŸ§® HÃ m ToÃ¡n Há»c & Logic</h2>
      <p>CÃ¡c hÃ m tÃ­nh toÃ¡n vÃ  logic cÆ¡ báº£n:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ§® Math & Logic"] --> B["ğŸ“ Geometry"]
  A --> C["ğŸ”¢ Numbers"]
  A --> D["ğŸ² Random"]
  A --> E["âš–ï¸ Comparison"]
  
  B --> B1["point_distance(x1, y1, x2, y2)<br/>Khoáº£ng cÃ¡ch 2 Ä‘iá»ƒm"]
  B --> B2["point_direction(x1, y1, x2, y2)<br/>GÃ³c giá»¯a 2 Ä‘iá»ƒm"]
  B --> B3["lengthdir_x(len, dir)<br/>Chuyá»ƒn gÃ³c thÃ nh X"]
  B --> B4["lengthdir_y(len, dir)<br/>Chuyá»ƒn gÃ³c thÃ nh Y"]
  
  C --> C1["abs(value)<br/>GiÃ¡ trá»‹ tuyá»‡t Ä‘á»‘i"]
  C --> C2["sign(value)<br/>Dáº¥u cá»§a sá»‘"]
  C --> C3["round(value)<br/>LÃ m trÃ²n"]
  C --> C4["floor(value)<br/>LÃ m trÃ²n xuá»‘ng"]
  C --> C5["ceil(value)<br/>LÃ m trÃ²n lÃªn"]
  C --> C6["clamp(value, min, max)<br/>Giá»›i háº¡n giÃ¡ trá»‹"]
  
  D --> D1["random(max)<br/>Sá»‘ thá»±c ngáº«u nhiÃªn"]
  D --> D2["irandom(max)<br/>Sá»‘ nguyÃªn ngáº«u nhiÃªn"]
  D --> D3["irandom_range(min, max)<br/>Sá»‘ nguyÃªn trong khoáº£ng"]
  D --> D4["choose(val1, val2, val3)<br/>Chá»n ngáº«u nhiÃªn"]
  
  E --> E1["min(val1, val2)<br/>GiÃ¡ trá»‹ nhá» nháº¥t"]
  E --> E2["max(val1, val2)<br/>GiÃ¡ trá»‹ lá»›n nháº¥t"]
  E --> E3["median(val1, val2, val3)<br/>GiÃ¡ trá»‹ trung bÃ¬nh"]
  E --> E4["lerp(a, b, t)<br/>Ná»™i suy tuyáº¿n tÃ­nh"]
      </div>
      
      <h3>ğŸ’» VÃ­ dá»¥ sá»­ dá»¥ng Math:</h3>
      <pre><code>// TÃ­nh khoáº£ng cÃ¡ch vÃ  hÆ°á»›ng
var dist = point_distance(x, y, target_x, target_y);
var angle = point_direction(x, y, target_x, target_y);

// Di chuyá»ƒn theo hÆ°á»›ng
if (dist > 5) {
    x += lengthdir_x(speed, angle);
    y += lengthdir_y(speed, angle);
}

// Giá»›i háº¡n vá»‹ trÃ­ trong mÃ n hÃ¬nh
x = clamp(x, 0, room_width);
y = clamp(y, 0, room_height);

// Di chuyá»ƒn mÆ°á»£t mÃ  Ä‘áº¿n má»¥c tiÃªu
x = lerp(x, target_x, 0.1);
y = lerp(y, target_y, 0.1);

// Táº¡o vá»‹ trÃ­ ngáº«u nhiÃªn
var random_x = irandom_range(100, room_width - 100);
var random_y = irandom_range(100, room_height - 100);

// Chá»n mÃ u ngáº«u nhiÃªn
var colors = [c_red, c_blue, c_green, c_yellow];
var random_color = choose(colors[0], colors[1], colors[2], colors[3]);

// TÃ­nh toÃ¡n damage
var base_damage = 10;
var critical_hit = (random(1) < 0.1); // 10% chance
var final_damage = base_damage * (critical_hit ? 2 : 1);

// LÃ m trÃ²n Ä‘á»ƒ snap to grid
x = round(x / 32) * 32;
y = round(y / 32) * 32;</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>6) ğŸµ HÃ m Ã‚m Thanh (Audio Functions)</h2>
      <p>CÃ¡c hÃ m Ä‘á»ƒ phÃ¡t vÃ  quáº£n lÃ½ Ã¢m thanh:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸµ Audio Functions"] --> B["ğŸ”Š Play & Stop"]
  A --> C["ğŸšï¸ Control"]
  A --> D["ğŸ“Š Status"]
  A --> E["ğŸ¼ Music"]
  
  B --> B1["audio_play_sound(snd, priority, loop)<br/>PhÃ¡t Ã¢m thanh"]
  B --> B2["audio_stop_sound(snd)<br/>Dá»«ng Ã¢m thanh"]
  B --> B3["audio_stop_all()<br/>Dá»«ng táº¥t cáº£"]
  B --> B4["audio_sound_gain(snd, volume, time)<br/>Äiá»u chá»‰nh Ã¢m lÆ°á»£ng"]
  
  C --> C1["audio_sound_pitch(snd, pitch)<br/>Äiá»u chá»‰nh táº§n sá»‘"]
  C --> C2["audio_sound_pan(snd, pan)<br/>Äiá»u chá»‰nh kÃªnh trÃ¡i/pháº£i"]
  C --> C3["audio_master_gain(volume)<br/>Ã‚m lÆ°á»£ng tá»•ng"]
  
  D --> D1["audio_is_playing(snd)<br/>Kiá»ƒm tra Ä‘ang phÃ¡t"]
  D --> D2["audio_sound_length(snd)<br/>Äá»™ dÃ i Ã¢m thanh"]
  D --> D3["audio_sound_get_track_position(snd)<br/>Vá»‹ trÃ­ hiá»‡n táº¡i"]
  
  E --> E1["audio_play_music(mus, loop)<br/>PhÃ¡t nháº¡c ná»n"]
  E --> E2["audio_stop_music()<br/>Dá»«ng nháº¡c ná»n"]
  E --> E3["audio_pause_music()<br/>Táº¡m dá»«ng nháº¡c"]
  E --> E4["audio_resume_music()<br/>Tiáº¿p tá»¥c nháº¡c"]
      </div>
      
      <h3>ğŸ’» VÃ­ dá»¥ sá»­ dá»¥ng Audio:</h3>
      <pre><code>// PhÃ¡t Ã¢m thanh khi báº¯n
if (mouse_check_button_pressed(mb_left)) {
    audio_play_sound(snd_shoot, 0, false);
}

// PhÃ¡t Ã¢m thanh khi va cháº¡m
if (place_meeting(x, y, o_enemy)) {
    audio_play_sound(snd_hit, 0, false);
    // Táº¡o hiá»‡u á»©ng Ã¢m thanh ngáº«u nhiÃªn
    audio_sound_pitch(snd_hit, random_range(0.8, 1.2));
}

// PhÃ¡t nháº¡c ná»n
if (!audio_is_playing(snd_background)) {
    audio_play_music(mus_background, true);
}

// Äiá»u chá»‰nh Ã¢m lÆ°á»£ng theo khoáº£ng cÃ¡ch
var nearest_player = instance_nearest(x, y, o_player);
if (nearest_player != noone) {
    var dist = point_distance(x, y, nearest_player.x, nearest_player.y);
    var volume = 1 - (dist / 500); // Giáº£m Ã¢m lÆ°á»£ng khi xa
    volume = clamp(volume, 0, 1);
    audio_sound_gain(snd_ambient, volume, 0);
}

// Táº¡m dá»«ng nháº¡c khi game pause
if (game_paused) {
    audio_pause_music();
} else {
    audio_resume_music();
}

// PhÃ¡t Ã¢m thanh vá»›i hiá»‡u á»©ng
audio_play_sound(snd_explosion, 0, false);
audio_sound_pitch(snd_explosion, random_range(0.5, 1.5));
audio_sound_pan(snd_explosion, random_range(-1, 1));</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>7) ğŸ¯ HÃ m Va Cháº¡m (Collision Functions)</h2>
      <p>CÃ¡c hÃ m Ä‘á»ƒ kiá»ƒm tra vÃ  xá»­ lÃ½ va cháº¡m:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ¯ Collision Functions"] --> B["ğŸ“ Position Check"]
  A --> C["ğŸ”„ Movement Check"]
  A --> D["ğŸ“ Distance Check"]
  A --> E["ğŸ¯ Point Check"]
  
  B --> B1["place_meeting(x, y, obj)<br/>Kiá»ƒm tra vá»‹ trÃ­"]
  B --> B2["place_empty(x, y)<br/>Kiá»ƒm tra vá»‹ trÃ­ trá»‘ng"]
  B --> B3["place_free(x, y)<br/>Kiá»ƒm tra vá»‹ trÃ­ tá»± do"]
  
  C --> C1["move_contact(obj, dir, maxdist)<br/>Di chuyá»ƒn Ä‘áº¿n va cháº¡m"]
  C --> C2["move_outside_all(obj, dir)<br/>Di chuyá»ƒn ra khá»i va cháº¡m"]
  C --> C3["move_bounce_all(obj, adv)<br/>Náº£y khá»i va cháº¡m"]
  
  D --> D1["collision_point(x, y, obj, prec, notme)<br/>Va cháº¡m táº¡i Ä‘iá»ƒm"]
  D --> D2["collision_rectangle(x1, y1, x2, y2, obj, prec, notme)<br/>Va cháº¡m trong hÃ¬nh chá»¯ nháº­t"]
  D --> D3["collision_circle(x, y, radius, obj, prec, notme)<br/>Va cháº¡m trong hÃ¬nh trÃ²n"]
  
  E --> E1["point_in_rectangle(px, py, x1, y1, x2, y2)<br/>Äiá»ƒm trong hÃ¬nh chá»¯ nháº­t"]
  E --> E2["point_in_circle(px, py, cx, cy, radius)<br/>Äiá»ƒm trong hÃ¬nh trÃ²n"]
  E --> E3["point_in_triangle(px, py, x1, y1, x2, y2, x3, y3)<br/>Äiá»ƒm trong tam giÃ¡c"]
      </div>
      
      <h3>ğŸ’» VÃ­ dá»¥ sá»­ dá»¥ng Collision:</h3>
      <pre><code>// Kiá»ƒm tra va cháº¡m trÆ°á»›c khi di chuyá»ƒn
if (!place_meeting(x + hspeed, y, o_wall)) {
    x += hspeed;
} else {
    hspeed = 0; // Dá»«ng láº¡i khi va cháº¡m
}

// Di chuyá»ƒn Ä‘áº¿n va cháº¡m
if (move_contact(o_enemy, direction, 5)) {
    // ÄÃ£ cháº¡m enemy, xá»­ lÃ½ damage
    hp -= 10;
}

// Kiá»ƒm tra va cháº¡m trong vÃ¹ng
var enemies_in_range = collision_circle(x, y, 100, o_enemy, false, false);
if (enemies_in_range != noone) {
    // CÃ³ enemy trong táº§m báº¯n
    show_message("Enemy detected!");
}

// Kiá»ƒm tra click trong vÃ¹ng
if (mouse_check_button_pressed(mb_left)) {
    if (point_in_circle(mouse_x, mouse_y, x, y, 50)) {
        // Click vÃ o vÃ¹ng trÃ²n
        selected = true;
    }
}

// Kiá»ƒm tra va cháº¡m vá»›i nhiá»u object
if (place_meeting(x, y, o_enemy) || place_meeting(x, y, o_obstacle)) {
    // Va cháº¡m vá»›i enemy hoáº·c obstacle
    vspeed = -5; // Náº£y lÃªn
}

// Di chuyá»ƒn ra khá»i va cháº¡m
if (place_meeting(x, y, o_wall)) {
    move_outside_all(o_wall, direction);
}

// Kiá»ƒm tra vá»‹ trÃ­ an toÃ n Ä‘á»ƒ spawn
var safe_x = irandom_range(50, room_width - 50);
var safe_y = irandom_range(50, room_height - 50);
if (place_empty(safe_x, safe_y)) {
    instance_create_layer(safe_x, safe_y, "Instances", o_powerup);
}</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>8) ğŸ¯ TÃ³m táº¯t buá»•i há»c</h2>
      <p>Trong buá»•i há»c nÃ y, chÃºng ta Ä‘Ã£ há»c Ä‘Æ°á»£c:</p>
      <ul class="tips">
        <li>âœ… Táº¥t cáº£ thuá»™c tÃ­nh cÆ¡ báº£n trong GameMaker (x, y, speed, sprite_index, alarm, depth...)</li>
        <li>âœ… HÃ m Ä‘iá»u khiá»ƒn input (keyboard, mouse, gamepad, touch)</li>
        <li>âœ… HÃ m váº½ (draw_sprite, draw_text, draw_shapes, colors)</li>
        <li>âœ… HÃ m instance (create, destroy, find, count, with)</li>
        <li>âœ… HÃ m toÃ¡n há»c (point_distance, lerp, clamp, random)</li>
        <li>âœ… HÃ m Ã¢m thanh (play, stop, control, music)</li>
        <li>âœ… HÃ m va cháº¡m (place_meeting, collision, move_contact)</li>
      </ul>
      <p><strong>BÃ i táº­p vá» nhÃ :</strong> Sá»­ dá»¥ng cÃ¡c hÃ m Ä‘Ã£ há»c Ä‘á»ƒ táº¡o má»™t game hoÃ n chá»‰nh vá»›i Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng Ã¢m thanh, va cháº¡m vÃ  hiá»‡u á»©ng!</p>
    </section>

    <nav class="lesson-nav">
      <a href="lesson4.html" class="nav-link">â† Buá»•i 4: Thuá»™c TÃ­nh & Thá»ƒ Loáº¡i Game</a>
      <a href="index.html" class="nav-link">ğŸ  Vá» trang chá»§</a>
    </nav>
  </main>
</body>
</html>

