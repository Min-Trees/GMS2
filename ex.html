<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ® Thuá»™c TÃ­nh GameMaker & Thá»ƒ Loáº¡i Game - Buá»•i 4</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad: true,
      theme: "dark",
      themeVariables: {
        primaryColor: "#111827",
        primaryBorderColor: "#22d3ee",
        primaryTextColor: "#e5e7eb",
        lineColor: "#22d3ee",
        secondaryColor: "#0b1222",
        tertiaryColor: "#0b1222",
        fontFamily: "system-ui, Segoe UI, Roboto, Helvetica, Arial",
        fontSize: "16px",
        labelBackground: "#1f2937",
        labelTextColor: "#e5e7eb",
        nodeBorder: "#22d3ee",
        clusterBackground: "#0b1222",
        clusterBorder: "#22d3ee"
      }
    });
  </script>
</head>
<body>
  <main class="wrap">
    <nav class="breadcrumb">
      <a href="index.html">ğŸ  Trang chá»§</a> > <span>Buá»•i 4</span>
    </nav>
    <h1>ğŸ® Thuá»™c TÃ­nh GameMaker & Thá»ƒ Loáº¡i Game - Buá»•i 4</h1>

    <section class="card">
      <h2>1) ğŸ“Š CÃ¡c Thuá»™c TÃ­nh CÆ¡ Báº£n Trong GameMaker</h2>
      <p>Thuá»™c tÃ­nh lÃ  nhá»¯ng thÃ´ng tin mÃ  má»—i Ä‘á»‘i tÆ°á»£ng trong game Ä‘á»u cÃ³. HÃ£y xem sÆ¡ Ä‘á»“ phÃ¢n loáº¡i:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ¯ Thuá»™c tÃ­nh GameMaker"] --> B["ğŸ“ Vá»‹ trÃ­ & Di chuyá»ƒn"]
  A --> C["ğŸ¨ Hiá»ƒn thá»‹"]
  A --> D["âš™ï¸ Há»‡ thá»‘ng"]
  A --> E["ğŸµ Ã‚m thanh"]
  
  B --> B1["x, y<br/>Tá»a Ä‘á»™ hiá»‡n táº¡i"]
  B --> B2["hspeed, vspeed<br/>Tá»‘c Ä‘á»™ ngang/dá»c"]
  B --> B3["speed, direction<br/>Tá»‘c Ä‘á»™ & hÆ°á»›ng tá»•ng"]
  B --> B4["friction<br/>Ma sÃ¡t"]
  
  C --> C1["sprite_index<br/>HÃ¬nh áº£nh hiá»‡n táº¡i"]
  C --> C2["image_index<br/>Frame hiá»‡n táº¡i"]
  C --> C3["image_speed<br/>Tá»‘c Ä‘á»™ animation"]
  C --> C4["visible<br/>CÃ³ hiá»ƒn thá»‹ khÃ´ng"]
  
  D --> D1["alarm[0-11]<br/>12 Ä‘á»“ng há»“ Ä‘áº¿m ngÆ°á»£c"]
  D --> D2["depth<br/>Lá»›p hiá»ƒn thá»‹"]
  D --> D3["persistent<br/>Tá»“n táº¡i qua room"]
  D --> D4["solid<br/>CÃ³ va cháº¡m khÃ´ng"]
  
  E --> E1["audio_play_sound<br/>PhÃ¡t Ã¢m thanh"]
  E --> E2["audio_stop_sound<br/>Dá»«ng Ã¢m thanh"]
      </div>
      
      <h3>ğŸ” Chi tiáº¿t cÃ¡c thuá»™c tÃ­nh quan trá»ng:</h3>
      <ul class="tips">
        <li><strong>x, y</strong>: Vá»‹ trÃ­ cá»§a Ä‘á»‘i tÆ°á»£ng trÃªn mÃ n hÃ¬nh (pixel)</li>
        <li><strong>hspeed, vspeed</strong>: Tá»‘c Ä‘á»™ di chuyá»ƒn theo trá»¥c X vÃ  Y</li>
        <li><strong>speed, direction</strong>: Tá»‘c Ä‘á»™ tá»•ng vÃ  hÆ°á»›ng di chuyá»ƒn (0-360 Ä‘á»™)</li>
        <li><strong>sprite_index</strong>: Sprite Ä‘ang Ä‘Æ°á»£c hiá»ƒn thá»‹</li>
        <li><strong>image_index</strong>: Frame hiá»‡n táº¡i trong animation</li>
        <li><strong>alarm[0-11]</strong>: 12 bá»™ Ä‘áº¿m ngÆ°á»£c cÃ³ thá»ƒ sá»­ dá»¥ng</li>
        <li><strong>depth</strong>: Lá»›p hiá»ƒn thá»‹ (sá»‘ cÃ ng nhá» cÃ ng á»Ÿ trÃªn)</li>
      </ul>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>2) ğŸ® Thá»ƒ Loáº¡i Game: Platformer (Game Nháº£y)</h2>
      <p>Platformer lÃ  game nhÃ¢n váº­t nháº£y qua cÃ¡c platform. HÃ£y xem cÃ¡ch táº¡o:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸš€ Platformer Game"] --> B["ğŸƒ Di chuyá»ƒn ngang"]
  A --> C["ğŸ¦˜ Nháº£y"]
  A --> D["ğŸŒ Trá»ng lá»±c"]
  A --> E["ğŸ—ï¸ Platform"]
  
  B --> B1["A/D: hspeed = Â±5"]
  C --> C1["Space: vspeed = -10"]
  D --> D1["vspeed += 0.5 má»—i frame"]
  E --> E1["Collision vá»›i platform"]
  
  F["âš™ï¸ Step Event"] --> G["Äá»c phÃ­m A/D"]
  G --> H["Äá»c phÃ­m Space"]
  H --> I["Ãp dá»¥ng trá»ng lá»±c"]
  I --> J["Kiá»ƒm tra va cháº¡m platform"]
      </div>
      
      <h3>ğŸ’» Code máº«u cho Platformer:</h3>
      <pre><code>// Step Event - Platformer
// Di chuyá»ƒn ngang
if (keyboard_check(vk_left)) {
    hspeed = -5;
} else if (keyboard_check(vk_right)) {
    hspeed = 5;
} else {
    hspeed = 0;
}

// Nháº£y (chá»‰ khi Ä‘ang Ä‘á»©ng trÃªn platform)
if (keyboard_check_pressed(vk_space) && place_meeting(x, y+1, o_platform)) {
    vspeed = -10;
}

// Trá»ng lá»±c
vspeed += 0.5;

// Giá»›i háº¡n tá»‘c Ä‘á»™ rÆ¡i
if (vspeed > 15) vspeed = 15;</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>3) ğŸï¸ Thá»ƒ Loáº¡i Game: Racing (Äua Xe)</h2>
      <p>Game Ä‘ua xe vá»›i Ä‘iá»u khiá»ƒn mÆ°á»£t mÃ  vÃ  gÃ³c nhÃ¬n tá»« trÃªn xuá»‘ng:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸï¸ Racing Game"] --> B["ğŸ® Äiá»u khiá»ƒn"]
  A --> C["ğŸ›£ï¸ ÄÆ°á»ng Ä‘ua"]
  A --> D["ğŸ Checkpoint"]
  A --> E["â±ï¸ Thá»i gian"]
  
  B --> B1["W: TÄƒng tá»‘c"]
  B --> B2["S: Phanh"]
  B --> B3["A/D: Ráº½ trÃ¡i/pháº£i"]
  
  C --> C1["Sprite Ä‘Æ°á»ng Ä‘ua"]
  C --> C2["Collision vá»›i vÃ¡ch"]
  
  D --> D1["TÄƒng Ä‘iá»ƒm khi qua"]
  E --> E1["Hiá»ƒn thá»‹ thá»i gian"]
      </div>
      
      <h3>ğŸ’» Code máº«u cho Racing:</h3>
      <pre><code>// Step Event - Racing
// TÄƒng tá»‘c
if (keyboard_check(vk_up)) {
    speed += 0.2;
    if (speed > 8) speed = 8;
}

// Phanh
if (keyboard_check(vk_down)) {
    speed -= 0.3;
    if (speed < 0) speed = 0;
}

// Ráº½
if (keyboard_check(vk_left)) {
    direction -= 3;
}
if (keyboard_check(vk_right)) {
    direction += 3;
}

// Ma sÃ¡t tá»± nhiÃªn
speed *= 0.95;</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>4) ğŸ§© Thá»ƒ Loáº¡i Game: Puzzle (Giáº£i Äá»‘)</h2>
      <p>Game giáº£i Ä‘á»‘ vá»›i cÃ¡c khá»‘i cÃ³ thá»ƒ di chuyá»ƒn vÃ  sáº¯p xáº¿p:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ§© Puzzle Game"] --> B["ğŸ“¦ Khá»‘i di chuyá»ƒn"]
  A --> C["ğŸ¯ Má»¥c tiÃªu"]
  A --> D["âœ… Kiá»ƒm tra tháº¯ng"]
  A --> E["ğŸ”„ Reset level"]
  
  B --> B1["Click Ä‘á»ƒ chá»n khá»‘i"]
  B --> B2["Drag Ä‘á»ƒ di chuyá»ƒn"]
  B --> B3["Kiá»ƒm tra vá»‹ trÃ­ há»£p lá»‡"]
  
  C --> C1["Vá»‹ trÃ­ Ä‘Ã­ch cho má»—i khá»‘i"]
  D --> D1["Táº¥t cáº£ khá»‘i Ä‘Ãºng vá»‹ trÃ­?"]
  E --> E1["Quay láº¡i vá»‹ trÃ­ ban Ä‘áº§u"]
      </div>
      
      <h3>ğŸ’» Code máº«u cho Puzzle:</h3>
      <pre><code>// Mouse Left Pressed - Puzzle
if (point_in_rectangle(mouse_x, mouse_y, x-16, y-16, x+16, y+16)) {
    selected = true;
    offset_x = mouse_x - x;
    offset_y = mouse_y - y;
}

// Mouse Left Released
if (selected && !mouse_check_button(mb_left)) {
    selected = false;
    // Snap to grid
    x = round(x/32) * 32;
    y = round(y/32) * 32;
    // Check if puzzle solved
    check_puzzle_solved();
}

// Mouse Drag
if (selected) {
    x = mouse_x - offset_x;
    y = mouse_y - offset_y;
}</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>5) ğŸ¯ Thá»ƒ Loáº¡i Game: Tower Defense</h2>
      <p>Game phÃ²ng thá»§ vá»›i thÃ¡p báº¯n vÃ  káº» Ä‘á»‹ch di chuyá»ƒn theo Ä‘Æ°á»ng:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ¯ Tower Defense"] --> B["ğŸ—ï¸ XÃ¢y thÃ¡p"]
  A --> C["ğŸ‘¾ Káº» Ä‘á»‹ch"]
  A --> D["ğŸ›¤ï¸ ÄÆ°á»ng Ä‘i"]
  A --> E["ğŸ’° Tiá»n tá»‡"]
  
  B --> B1["Click Ä‘á»ƒ Ä‘áº·t thÃ¡p"]
  B --> B2["ThÃ¡p tá»± Ä‘á»™ng báº¯n"]
  B --> B3["NÃ¢ng cáº¥p thÃ¡p"]
  
  C --> C1["Spawn theo Ä‘Æ°á»ng"]
  C --> C2["CÃ³ mÃ¡u vÃ  tá»‘c Ä‘á»™"]
  C --> C3["Tráº£ tiá»n khi cháº¿t"]
  
  D --> D1["Pathfinding cho enemy"]
  E --> E1["Mua thÃ¡p vÃ  nÃ¢ng cáº¥p"]
      </div>
      
      <h3>ğŸ’» Code máº«u cho Tower Defense:</h3>
      <pre><code>// Step Event - Tower
// TÃ¬m káº» Ä‘á»‹ch gáº§n nháº¥t
var nearest_enemy = instance_nearest(x, y, o_enemy);
if (nearest_enemy != noone) {
    var dist = point_distance(x, y, nearest_enemy.x, nearest_enemy.y);
    if (dist < 100) { // Táº§m báº¯n
        // Báº¯n Ä‘áº¡n
        if (alarm[0] <= 0) {
            var bullet = instance_create_layer(x, y, "Instances", o_bullet);
            bullet.target = nearest_enemy;
            alarm[0] = 30; // Tá»‘c Ä‘á»™ báº¯n
        }
    }
}

// Alarm 0 - Táº¡o Ä‘áº¡n
var bullet = instance_create_layer(x, y, "Instances", o_bullet);
bullet.direction = point_direction(x, y, target.x, target.y);
bullet.speed = 8;</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>6) ğŸ² Thá»ƒ Loáº¡i Game: RPG (Nháº­p Vai)</h2>
      <p>Game nháº­p vai vá»›i há»‡ thá»‘ng level, kinh nghiá»‡m vÃ  inventory:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ² RPG Game"] --> B["ğŸ‘¤ NhÃ¢n váº­t"]
  A --> C["âš”ï¸ Chiáº¿n Ä‘áº¥u"]
  A --> D["ğŸ“¦ Inventory"]
  A --> E["ğŸ“Š Stats"]
  
  B --> B1["Level, HP, MP"]
  B --> B2["Kinh nghiá»‡m (EXP)"]
  B --> B3["Ká»¹ nÄƒng vÃ  spell"]
  
  C --> C1["Turn-based hoáº·c real-time"]
  C --> C2["Damage calculation"]
  C --> C3["Loot system"]
  
  D --> D1["VÅ© khÃ­, Ã¡o giÃ¡p"]
  D --> D2["Potion, item"]
  E --> E1["Strength, Defense, Speed"]
      </div>
      
      <h3>ğŸ’» Code máº«u cho RPG:</h3>
      <pre><code>// Create Event - Player
level = 1;
exp = 0;
exp_to_next = 100;
hp = 100;
max_hp = 100;
mp = 50;
max_mp = 50;
strength = 10;
defense = 5;

// Function - Gain Experience
function gain_exp(amount) {
    exp += amount;
    while (exp >= exp_to_next) {
        exp -= exp_to_next;
        level_up();
    }
}

// Function - Level Up
function level_up() {
    level++;
    exp_to_next = level * 100;
    max_hp += 20;
    max_mp += 10;
    hp = max_hp; // Full heal
    mp = max_mp;
    strength += 2;
    defense += 1;
    show_message("Level Up! Now level " + string(level));
}</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>7) ğŸ› ï¸ CÃ¡c HÃ m Há»¯u Ãch Cho Má»i Thá»ƒ Loáº¡i Game</h2>
      <p>Nhá»¯ng hÃ m nÃ y cÃ³ thá»ƒ dÃ¹ng trong báº¥t ká»³ game nÃ o:</p>
      
      <div class="mermaid">
flowchart TD
  A["ğŸ› ï¸ HÃ m Há»¯u Ãch"] --> B["ğŸ“ Vá»‹ trÃ­ & Khoáº£ng cÃ¡ch"]
  A --> C["ğŸ¯ TÃ¬m kiáº¿m"]
  A --> D["ğŸ² Ngáº«u nhiÃªn"]
  A --> E["ğŸ“Š ToÃ¡n há»c"]
  
  B --> B1["point_distance(x1,y1,x2,y2)<br/>TÃ­nh khoáº£ng cÃ¡ch"]
  B --> B2["point_direction(x1,y1,x2,y2)<br/>TÃ­nh gÃ³c"]
  B --> B3["lengthdir_x(len,dir)<br/>Chuyá»ƒn gÃ³c thÃ nh X"]
  
  C --> C1["instance_nearest(x,y,obj)<br/>TÃ¬m gáº§n nháº¥t"]
  C --> C2["instance_exists(obj)<br/>Kiá»ƒm tra tá»“n táº¡i"]
  C --> C3["with(obj) { code }<br/>Thá»±c hiá»‡n vá»›i táº¥t cáº£"]
  
  D --> D1["irandom(max)<br/>Sá»‘ nguyÃªn ngáº«u nhiÃªn"]
  D --> D2["random(max)<br/>Sá»‘ thá»±c ngáº«u nhiÃªn"]
  D --> D3["choose(val1,val2,val3)<br/>Chá»n ngáº«u nhiÃªn"]
  
  E --> E1["abs(value)<br/>GiÃ¡ trá»‹ tuyá»‡t Ä‘á»‘i"]
  E --> E2["clamp(val,min,max)<br/>Giá»›i háº¡n giÃ¡ trá»‹"]
  E --> E3["lerp(a,b,t)<br/>Ná»™i suy tuyáº¿n tÃ­nh"]
      </div>
      
      <h3>ğŸ“ VÃ­ dá»¥ sá»­ dá»¥ng:</h3>
      <pre><code>// TÃ¬m enemy gáº§n nháº¥t vÃ  báº¯n vá» phÃ­a nÃ³
var enemy = instance_nearest(x, y, o_enemy);
if (enemy != noone) {
    var dist = point_distance(x, y, enemy.x, enemy.y);
    if (dist < 200) {
        direction = point_direction(x, y, enemy.x, enemy.y);
        speed = 5;
    }
}

// Táº¡o item ngáº«u nhiÃªn
var item_type = choose("health", "mana", "weapon");
var item = instance_create_layer(x, y, "Instances", o_item);
item.item_type = item_type;

// Di chuyá»ƒn mÆ°á»£t mÃ  Ä‘áº¿n vá»‹ trÃ­
x = lerp(x, target_x, 0.1);
y = lerp(y, target_y, 0.1);</code></pre>
      <p class="note">ğŸ“Œ Náº¿u sÆ¡ Ä‘á»“ khÃ´ng hiá»‡n, kiá»ƒm tra máº¡ng (cáº§n táº£i Mermaid) hoáº·c thá»­ trÃ¬nh duyá»‡t khÃ¡c.</p>
    </section>

    <section class="card">
      <h2>8) ğŸ¯ TÃ³m táº¯t buá»•i há»c</h2>
      <p>Trong buá»•i há»c nÃ y, chÃºng ta Ä‘Ã£ há»c Ä‘Æ°á»£c:</p>
      <ul class="tips">
        <li>âœ… CÃ¡c thuá»™c tÃ­nh cÆ¡ báº£n trong GameMaker (x, y, speed, sprite_index, alarm)</li>
        <li>âœ… CÃ¡ch táº¡o Platformer game vá»›i trá»ng lá»±c vÃ  nháº£y</li>
        <li>âœ… CÃ¡ch táº¡o Racing game vá»›i Ä‘iá»u khiá»ƒn mÆ°á»£t mÃ </li>
        <li>âœ… CÃ¡ch táº¡o Puzzle game vá»›i drag & drop</li>
        <li>âœ… CÃ¡ch táº¡o Tower Defense vá»›i há»‡ thá»‘ng thÃ¡p báº¯n</li>
        <li>âœ… CÃ¡ch táº¡o RPG vá»›i level, exp vÃ  stats</li>
        <li>âœ… CÃ¡c hÃ m há»¯u Ã­ch cho má»i thá»ƒ loáº¡i game</li>
      </ul>
      <p><strong>BÃ i táº­p vá» nhÃ :</strong> Chá»n má»™t thá»ƒ loáº¡i game yÃªu thÃ­ch vÃ  thá»­ táº¡o prototype Ä‘Æ¡n giáº£n vá»›i cÃ¡c thuá»™c tÃ­nh vÃ  hÃ m Ä‘Ã£ há»c!</p>
    </section>

    <nav class="lesson-nav">
      <a href="lesson3.html" class="nav-link">â† Buá»•i 3: Game Báº¯n SÃºng</a>
      <a href="lesson5.html" class="nav-link">Buá»•i 5: TÃ i Liá»‡u Tham Kháº£o â†’</a>
    </nav>
  </main>
</body>
</html>
